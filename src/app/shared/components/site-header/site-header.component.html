<div class="site-header-shell">
  <header class="site-header">
    <div class="brand">
      <a routerLink="/" class="brand-link">
        <img src="cropped/logo-cropped.png" alt="gitPlumbers" class="brand-logo" />
      </a>
    </div>

    <nav class="header-actions" aria-label="Primary">
      <div class="nav-group">
        @if (isAuthLoading()) {
        <!-- Show nothing or a subtle loading indicator while auth state loads -->
        <span class="nav-link loading" aria-hidden="true">&nbsp;</span>
        } @else if (!isLoggedIn()) {
        <a class="nav-link" routerLink="/login">Log in</a>
        } @else {
        <a class="nav-link" [routerLink]="dashboardUrl()">Dashboard</a>
        <button class="nav-link logout-btn" (click)="logout()">Log out</button>
        }
      </div>
      @if (!isAuthLoading() && !isLoggedIn()) {
      <a class="cta-button" routerLink="/contact">Book an audit</a>
      }
    </nav>
  </header>
</div>
